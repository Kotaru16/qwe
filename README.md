# Магазин процессоров (CPU Store)

## Описание проекта
Консольное приложение на C# для управления магазином процессоров. Система позволяет управлять каталогом процессоров, просматривать и искать товары.

## Основные функции
- Просмотр списка всех процессоров
- Добавление новых процессоров
- Поиск процессоров по названию или модели
- Хранение данных в текстовом файле

## Технические требования
- C# .NET
- Хранение данных в текстовом файле (Data/cpus.txt)
- Объектно-ориентированное проектирование
- Обработка ошибок и исключений

## Структура проекта
- `CPU.cs` - класс для хранения информации о процессоре
- `FileManager.cs` - класс для работы с файлами (сохранение/загрузка данных)
- `Program.cs` - основной класс с консольным меню

## Команды консольного интерфейса
1. **Просмотреть все процессоры**
   - Показывает список всех доступных процессоров
   - Для каждого процессора отображается: ID, название, модель, цена, частота и количество

2. **Добавить новый процессор**
   - Запрашивает информацию о новом процессоре:
     - Название
     - Модель
     - Цена
     - Количество ядер
     - Базовая частота (ГГц)
     - Количество
   - Автоматически присваивает уникальный ID
   - Сохраняет данные в файл

3. **Найти процессор**
   - Поиск по названию или модели
   - Показывает все совпадения
   - Поиск не чувствителен к регистру

4. **Выход**
   - Завершает работу программы

## Формат хранения данных
Данные хранятся в текстовом файле `Data/cpus.txt` в следующем формате:
```
ID|Название|Модель|Цена|КоличествоЯдер|БазоваяЧастота|Количество
```

## Установка и запуск
1. Убедитесь, что у вас установлен .NET SDK
2. Клонируйте репозиторий
3. Откройте терминал в папке проекта
4. Выполните команду: `dotnet run --project GPUStore.Console`

## UML диаграммы

- Диаграмма классов:
  ![Диаграмма классов](Docs/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202025-05-22%20211419.png)
- Диаграмма последовательности:
  ![Диаграмма последовательности](Docs/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202025-05-22%20210652.png)
- Диаграмма вариантов использования:
  ![Диаграмма вариантов использования](Docs/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202025-05-22%20210629.png)

## Бизнес-слой (Business Layer)

Бизнес-слой приложения реализует основную логику работы с процессорами (CPU) и обеспечивает валидацию данных. Слой полностью отделен от представления и доступа к данным.

### Основные компоненты

#### 1. IEntity
Базовый интерфейс для всех сущностей в системе:
- `Id` - уникальный идентификатор
- `CreatedAt` - дата создания
- `UpdatedAt` - дата последнего обновления

#### 2. CPU
Основной класс бизнес-логики, реализующий интерфейс `IEntity`:

**Свойства:**
- `Model` - модель процессора
- `Manufacturer` - производитель (Intel, AMD)
- `Price` - цена
- `CoreCount` - количество ядер
- `ThreadCount` - количество потоков
- `BaseClock` - базовая частота (ГГц)
- `BoostClock` - частота разгона (ГГц)
- `StockQuantity` - количество на складе

**Методы:**
- `Validate()` - проверка корректности данных
- `UpdateStock(int quantity)` - обновление количества на складе
- `CalculateDiscount(decimal discountPercentage)` - расчет цены со скидкой

#### 3. CPUStoreService
Сервисный класс для управления операциями с CPU:

**Основные операции:**
- `AddCPUAsync` - добавление нового процессора
- `UpdateCPUAsync` - обновление информации о процессоре
- `DeleteCPUAsync` - удаление процессора
- `GetCPUByIdAsync` - получение процессора по ID
- `GetAllCPUsAsync` - получение всех процессоров
- `SearchCPUsAsync` - поиск процессоров по модели или производителю
- `GetCPUsByPriceRangeAsync` - фильтрация по диапазону цен

#### 4. ValidationService
Сервис валидации данных:

**Проверки:**
- Валидация производителей (Intel, AMD)
- Валидация количества ядер (от 2 до 128)
- Проверка частот (базовая до 5 ГГц, разгон до 6 ГГц)
- Проверка цены (до 1 000 000)
- Проверка количества на складе (до 1000)
- Валидация поисковых запросов
- Валидация диапазонов цен

### Особенности реализации

1. **Разделение ответственности**
   - Каждый класс имеет четкую зону ответственности
   - Бизнес-логика отделена от представления и доступа к данным

2. **Инкапсуляция**
   - Внутренняя реализация скрыта
   - Доступ к данным через публичные методы
   - Валидация инкапсулирована в отдельных классах

3. **Полиморфизм**
   - Использование интерфейса `IEntity`
   - Возможность расширения для других типов товаров

4. **Асинхронность**
   - Все операции с данными асинхронные
   - Подготовка к работе с внешними источниками данных

5. **Валидация**
   - Многоуровневая проверка данных
   - Строгие бизнес-правила
   - Информативные сообщения об ошибках

### Примеры использования

```csharp
// Создание сервиса
var cpuStore = new CPUStoreService();

// Добавление нового процессора
var cpu = new CPU
{
    Model = "Core i9-13900K",
    Manufacturer = "Intel",
    Price = 49999,
    CoreCount = 24,
    ThreadCount = 32,
    BaseClock = 3.0,
    BoostClock = 5.8,
    StockQuantity = 5
};

await cpuStore.AddCPUAsync(cpu);

// Поиск процессоров
var searchResults = await cpuStore.SearchCPUsAsync("Core i9");

// Фильтрация по цене
var cpusInRange = await cpuStore.GetCPUsByPriceRangeAsync(30000, 60000);
``` 